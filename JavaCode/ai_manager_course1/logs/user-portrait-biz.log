2024-12-11 01:18:41 [main] INFO  org.uestc.weglas.AiManageApplication - Starting AiManageApplication on CzyMacbookPro with PID 71871 (/Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1/target/classes started by caozhengyang in /Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1)
2024-12-11 01:18:41 [main] DEBUG org.uestc.weglas.AiManageApplication - Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2024-12-11 01:18:41 [main] INFO  org.uestc.weglas.AiManageApplication - No active profile set, falling back to default profiles: default
2024-12-11 01:18:42 [main] INFO  org.uestc.weglas.AiManageApplication - Started AiManageApplication in 1.178 seconds (JVM running for 1.448)
2024-12-11 01:27:32 [main] INFO  org.uestc.weglas.AiManageApplication - Starting AiManageApplication on CzyMacbookPro with PID 72833 (/Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1/target/classes started by caozhengyang in /Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1)
2024-12-11 01:27:32 [main] DEBUG org.uestc.weglas.AiManageApplication - Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2024-12-11 01:27:32 [main] INFO  org.uestc.weglas.AiManageApplication - No active profile set, falling back to default profiles: default
2024-12-11 01:27:33 [main] INFO  org.uestc.weglas.AiManageApplication - Started AiManageApplication in 1.09 seconds (JVM running for 1.322)
2024-12-11 01:28:14 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 01:28:14 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 01:28:14 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 0
2024-12-11 01:28:26 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - ==>  Preparing: INSERT INTO `ai_conversation` (`title`, `llm_model`, `ext`, `gmt_create`, `gmt_modified`) VALUES (?, ?, ?, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP()) 
2024-12-11 01:28:26 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - ==> Parameters: 鞋子怎么选(String), defaultModel(String), {}(String)
2024-12-11 01:28:26 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - <==    Updates: 1
2024-12-11 01:28:26 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==>  Preparing: INSERT INTO `ai_conversation_chat_detail` (`conversation_id`, `role`, `type`,`content`, `ext`, `gmt_create`, `gmt_modified`) VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP()) 
2024-12-11 01:28:26 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==> Parameters: 1(Integer), user(String), TEXT(String), 鞋子怎么选(String), {}(String)
2024-12-11 01:28:26 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - <==    Updates: 1
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 1
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 1
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 1
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 01:28:26 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 1
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 1
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 1
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 1
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 01:28:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 1
2024-12-11 16:03:42 [main] INFO  org.uestc.weglas.AiManageApplication - Starting AiManageApplication on CzyMacbookPro with PID 77688 (/Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1/target/classes started by caozhengyang in /Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1)
2024-12-11 16:03:42 [main] DEBUG org.uestc.weglas.AiManageApplication - Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2024-12-11 16:03:42 [main] INFO  org.uestc.weglas.AiManageApplication - No active profile set, falling back to default profiles: default
2024-12-11 16:03:43 [main] INFO  org.uestc.weglas.AiManageApplication - Started AiManageApplication in 1.12 seconds (JVM running for 1.381)
2024-12-11 16:04:14 [main] INFO  org.uestc.weglas.AiManageApplication - Starting AiManageApplication on CzyMacbookPro with PID 77811 (/Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1/target/classes started by caozhengyang in /Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1)
2024-12-11 16:04:14 [main] DEBUG org.uestc.weglas.AiManageApplication - Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2024-12-11 16:04:14 [main] INFO  org.uestc.weglas.AiManageApplication - No active profile set, falling back to default profiles: default
2024-12-11 16:04:15 [main] INFO  org.uestc.weglas.AiManageApplication - Started AiManageApplication in 1.08 seconds (JVM running for 1.301)
2024-12-11 16:04:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 16:04:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 16:04:32 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 0
2024-12-11 16:04:53 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - ==>  Preparing: INSERT INTO `ai_conversation` (`title`, `llm_model`, `ext`, `gmt_create`, `gmt_modified`) VALUES (?, ?, ?, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP()) 
2024-12-11 16:04:53 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - ==> Parameters: 鞋子的品牌和材质？(String), defaultModel(String), {}(String)
2024-12-11 16:04:53 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - <==    Updates: 1
2024-12-11 16:04:53 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==>  Preparing: INSERT INTO `ai_conversation_chat_detail` (`conversation_id`, `role`, `type`,`content`, `ext`, `gmt_create`, `gmt_modified`) VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP()) 
2024-12-11 16:04:53 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==> Parameters: 1(Integer), user(String), TEXT(String), 鞋子的品牌和材质？(String), {}(String)
2024-12-11 16:04:53 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - <==    Updates: 1
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 1
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 1
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 1
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 16:04:53 [http-nio-8081-exec-10] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 1
2024-12-11 17:30:15 [main] INFO  org.uestc.weglas.AiManageApplication - Starting AiManageApplication on CzyMacbookPro with PID 83313 (/Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1/target/classes started by caozhengyang in /Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1)
2024-12-11 17:30:15 [main] DEBUG org.uestc.weglas.AiManageApplication - Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2024-12-11 17:30:15 [main] INFO  org.uestc.weglas.AiManageApplication - No active profile set, falling back to default profiles: default
2024-12-11 17:30:16 [main] INFO  org.uestc.weglas.AiManageApplication - Started AiManageApplication in 1.069 seconds (JVM running for 1.296)
2024-12-11 17:30:30 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 17:30:30 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 17:30:30 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 0
2024-12-11 17:30:30 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 17:30:30 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 17:30:30 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 0
2024-12-11 17:30:32 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 17:30:32 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 17:30:32 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 0
2024-12-11 17:30:32 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 17:30:32 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 17:30:32 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 0
2024-12-11 17:31:16 [http-nio-8081-exec-3] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 17:31:16 [http-nio-8081-exec-3] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 17:31:16 [http-nio-8081-exec-3] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 0
2024-12-11 17:31:38 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 17:31:38 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 17:31:38 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 0
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - ==>  Preparing: INSERT INTO `ai_conversation` (`title`, `llm_model`, `ext`, `gmt_create`, `gmt_modified`) VALUES (?, ?, ?, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP()) 
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - ==> Parameters: 鞋子的材质是什么？(String), defaultModel(String), {}(String)
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - <==    Updates: 1
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==>  Preparing: INSERT INTO `ai_conversation_chat_detail` (`conversation_id`, `role`, `type`,`content`, `ext`, `gmt_create`, `gmt_modified`) VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP()) 
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==> Parameters: 1(Integer), user(String), TEXT(String), 鞋子的材质是什么？(String), {}(String)
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - <==    Updates: 1
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 1
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 1
2024-12-11 17:31:51 [http-nio-8081-exec-6] INFO  org.uestc.weglas.core.service.ChatServiceImpl - 调用普通 AI 服务开始... URL: http://127.0.0.1:8080/chat
2024-12-11 17:31:51 [http-nio-8081-exec-6] ERROR org.uestc.weglas.core.service.ChatServiceImpl - 调用普通 AI 服务失败: 404 Not Found
org.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found
	at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:135) ~[spring-webflux-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$createResponseException$7(DefaultWebClient.java:466) ~[spring-webflux-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:92) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:121) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxContextStart$ContextStartSubscriber.onNext(FluxContextStart.java:103) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:287) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:331) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1476) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.MonoCollectList$MonoBufferAllSubscriber.onComplete(MonoCollectList.java:118) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:378) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:202) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:343) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:325) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:372) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:522) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:141) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102) ~[netty-codec-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) ~[netty-codec-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) ~[netty-codec-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897) ~[netty-common-4.1.30.Final.jar:4.1.30.Final]
	at java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_431]
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:93) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
		at reactor.core.publisher.Mono.block(Mono.java:1475) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
		at org.uestc.weglas.core.service.ChatServiceImpl.chat(ChatServiceImpl.java:40) ~[classes/:?]
		at org.uestc.weglas.core.service.ConversationServiceImpl.addChat(ConversationServiceImpl.java:119) ~[classes/:?]
		at org.uestc.weglas.core.service.ConversationServiceImpl.add(ConversationServiceImpl.java:58) ~[classes/:?]
		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_431]
		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_431]
		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_431]
		at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_431]
		at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at com.sun.proxy.$Proxy90.add(Unknown Source) ~[?:?]
		at org.uestc.weglas.controller.ConversationController.addConversation(ConversationController.java:32) ~[classes/:?]
		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_431]
		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_431]
		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_431]
		at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_431]
		at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:215) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:142) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:901) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_431]
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_431]
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_431]
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==>  Preparing: INSERT INTO `ai_conversation_chat_detail` (`conversation_id`, `role`, `type`,`content`, `ext`, `gmt_create`, `gmt_modified`) VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP()) 
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==> Parameters: 1(Integer), ASSISTANT(String), TEXT(String), AI服务暂时不可用，请稍后重试。(String), {}(String)
2024-12-11 17:31:51 [http-nio-8081-exec-6] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - <==    Updates: 1
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 1
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 2
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 1
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 17:31:51 [http-nio-8081-exec-7] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 2
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 1
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 2
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 1
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 17:32:06 [http-nio-8081-exec-9] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 2
2024-12-11 18:32:46 [main] INFO  org.uestc.weglas.AiManageApplication - Starting AiManageApplication on CzyMacbookPro with PID 87740 (/Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1/target/classes started by caozhengyang in /Users/caozhengyang/Desktop/Full_Stack_LLM_Project/JavaCode/ai_manager_course1)
2024-12-11 18:32:46 [main] DEBUG org.uestc.weglas.AiManageApplication - Running with Spring Boot v2.1.0.RELEASE, Spring v5.1.2.RELEASE
2024-12-11 18:32:46 [main] INFO  org.uestc.weglas.AiManageApplication - No active profile set, falling back to default profiles: default
2024-12-11 18:32:47 [main] INFO  org.uestc.weglas.AiManageApplication - Started AiManageApplication in 1.08 seconds (JVM running for 1.304)
2024-12-11 18:32:55 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 18:32:55 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 18:32:55 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 0
2024-12-11 18:32:55 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 18:32:55 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 18:32:55 [http-nio-8081-exec-1] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 0
2024-12-11 18:32:56 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 18:32:56 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 18:32:56 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 0
2024-12-11 18:32:56 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 18:32:56 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 18:32:56 [http-nio-8081-exec-2] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 0
2024-12-11 18:33:32 [http-nio-8081-exec-3] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 18:33:32 [http-nio-8081-exec-3] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 18:33:32 [http-nio-8081-exec-3] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 0
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - ==>  Preparing: INSERT INTO `ai_conversation` (`title`, `llm_model`, `ext`, `gmt_create`, `gmt_modified`) VALUES (?, ?, ?, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP()) 
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - ==> Parameters: 鞋子品牌有哪些(String), defaultModel(String), {}(String)
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.insert - <==    Updates: 1
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==>  Preparing: INSERT INTO `ai_conversation_chat_detail` (`conversation_id`, `role`, `type`,`content`, `ext`, `gmt_create`, `gmt_modified`) VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP()) 
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==> Parameters: 1(Integer), user(String), TEXT(String), 鞋子品牌有哪些(String), {}(String)
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - <==    Updates: 1
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 1
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 1
2024-12-11 18:33:42 [http-nio-8081-exec-8] INFO  org.uestc.weglas.core.service.ChatServiceImpl - 调用普通 AI 服务开始... URL: http://127.0.0.1:8080/chat
2024-12-11 18:33:42 [http-nio-8081-exec-8] ERROR org.uestc.weglas.core.service.ChatServiceImpl - 调用普通 AI 服务失败: 404 Not Found
org.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found
	at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:135) ~[spring-webflux-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at org.springframework.web.reactive.function.client.DefaultWebClient$DefaultResponseSpec.lambda$createResponseException$7(DefaultWebClient.java:466) ~[spring-webflux-5.1.2.RELEASE.jar:5.1.2.RELEASE]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:92) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:121) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxContextStart$ContextStartSubscriber.onNext(FluxContextStart.java:103) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:287) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:331) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1476) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.MonoCollectList$MonoBufferAllSubscriber.onComplete(MonoCollectList.java:118) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
	at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:378) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:202) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:343) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:325) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:372) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:522) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:141) ~[reactor-netty-0.8.2.RELEASE.jar:0.8.2.RELEASE]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102) ~[netty-codec-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) ~[netty-codec-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) ~[netty-codec-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:579) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:496) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458) ~[netty-transport-4.1.30.Final.jar:4.1.30.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897) ~[netty-common-4.1.30.Final.jar:4.1.30.Final]
	at java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_431]
	Suppressed: java.lang.Exception: #block terminated with an error
		at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:93) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
		at reactor.core.publisher.Mono.block(Mono.java:1475) ~[reactor-core-3.2.2.RELEASE.jar:3.2.2.RELEASE]
		at org.uestc.weglas.core.service.ChatServiceImpl.chat(ChatServiceImpl.java:40) ~[classes/:?]
		at org.uestc.weglas.core.service.ConversationServiceImpl.addChat(ConversationServiceImpl.java:119) ~[classes/:?]
		at org.uestc.weglas.core.service.ConversationServiceImpl.add(ConversationServiceImpl.java:58) ~[classes/:?]
		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_431]
		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_431]
		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_431]
		at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_431]
		at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294) ~[spring-tx-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at com.sun.proxy.$Proxy90.add(Unknown Source) ~[?:?]
		at org.uestc.weglas.controller.ConversationController.addConversation(ConversationController.java:45) ~[classes/:?]
		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_431]
		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_431]
		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_431]
		at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_431]
		at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:215) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:142) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:998) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:901) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:875) ~[spring-webmvc-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.2.RELEASE.jar:5.1.2.RELEASE]
		at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_431]
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_431]
		at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.12.jar:9.0.12]
		at java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_431]
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==>  Preparing: INSERT INTO `ai_conversation_chat_detail` (`conversation_id`, `role`, `type`,`content`, `ext`, `gmt_create`, `gmt_modified`) VALUES (?, ?, ?, ?, ?, CURRENT_TIMESTAMP(), CURRENT_TIMESTAMP()) 
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - ==> Parameters: 1(Integer), ASSISTANT(String), TEXT(String), AI服务暂时不可用，请稍后重试。(String), {}(String)
2024-12-11 18:33:42 [http-nio-8081-exec-8] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.insert - <==    Updates: 1
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==>  Preparing: SELECT * FROM ai_conversation WHERE id = ? 
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - ==> Parameters: 1(Integer)
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectById - <==      Total: 1
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 2
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==>  Preparing: SELECT * FROM ai_conversation order by gmt_modified DESC 
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - ==> Parameters: 
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationMapper.selectAll - <==      Total: 1
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==>  Preparing: SELECT * FROM ai_conversation_chat_detail WHERE conversation_id = ? order by gmt_create 
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - ==> Parameters: 1(Integer)
2024-12-11 18:33:42 [http-nio-8081-exec-5] DEBUG org.uestc.weglas.base.mapper.ConversationChatDetailMapper.selectByConversationId - <==      Total: 2
